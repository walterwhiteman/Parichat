name: Deploy to Firebase Hosting

on:
  push:
    branches:
      - main # Or 'master', depending on your default branch name

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20' # Use a recent LTS version of Node.js

      - name: Install Firebase CLI
        run: npm install -g firebase-tools

      - name: Deploy to Firebase
        run: firebase deploy --only hosting --token ${{ secrets.FIREBASE_SERVICE_ACCOUNT_TOKEN }}
        env:
          # You might need to set up these if your project uses specific config.
          # For simple hosting, FIREBASE_SERVICE_ACCOUNT_TOKEN is often enough.
          # For projects with multiple environments, you might use:
          # FIREBASE_PROJECT_ID: your-project-id
          # FIREBASE_API_KEY: your-api-key
          # ... etc.
          # You can remove these if not explicitly needed.
          # For example, if you just use --token with a service account,
          # the project ID is typically inferred from the token or .firebaserc
          # You can also use firebase deploy --project your-project-id --token ...
          # if you want to explicitly specify the project.
